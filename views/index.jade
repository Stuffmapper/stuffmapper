doctype html
-
	var htmlClassList = [];
	if(loggedIn) htmlClassList.push('loggedIn');
	if(ionic) htmlClassList.push('ionic');
	else if(electron) htmlClassList.push('electron');
	htmlClassList = htmlClassList.join(' ');
html(lang="en" class= htmlClassList ng-app="stuffMapp")
	head
		meta(charset="utf-8")
		meta(name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width, height=device-height")
		meta(name="theme-color" content="#9FD661")
		//- link(rel="icon" sizes="192x192" href="nice-highres.png")
		title Stuffmapper
		if ionic
			//- meta(http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'")
			script.
				var deviceType = (navigator.userAgent.match(/iPad/i))  == "iPad" ? "iPad" : (navigator.userAgent.match(/iPhone/i))  == "iPhone" ? "iPhone" : (navigator.userAgent.match(/Android/i)) == "Android" ? "Android" : (navigator.userAgent.match(/BlackBerry/i)) == "BlackBerry" ? "BlackBerry" : "null";
				var d = document.documentElement;
				if(/iPad|iPhone|iPod/.test(deviceType)){
					d.className += ' ios';
					document.getElementsByTagName('html')[0].className += ' ios'
				}
				else {
					d.className += ' android';
					document.getElementsByTagName('html')[0].className += ' android'
				}
				var path = window.location.pathname.split('/');
				path.pop();
				path = path.join('/') + '/';
				var section = document.querySelector('head');
				var base = document.createElement('base');
				base.href = path
				section.insertBefore(base, section.firstChild);
		else if electron
			base(href="/")
		else
			base(href="/")
		link(href="css/main.app.min.css" rel="stylesheet")
		link(href="css/font-awesome.min.css" rel="stylesheet")
		link(href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet")
		script(src="http://maps.google.com/maps/api/js")
		//- ?key=AIzaSyC9wZTqNMPxl86PtJuR4Dq3TzS_hByOs3U")
		//- script(src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.js")
		//- link(href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.css" rel="stylesheet")
		//- script(src="https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js")
		//- link(href="https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css" rel="stylesheet")
		if ionic
			//- link(href="lib/ionic/css/ionic.css" rel="stylesheet")
			script(src="cordova.js")
			script(src="http://localhost:3000/socket.io/socket.io.js")
			script(src="lib/ionic/js/ionic.bundle.js")
			script(src="lib/ngCordova/dist/ng-cordova.min.js")
			script(src="lib/ng-cordova-oauth/dist/ng-cordova-oauth.min.js")
		else
			script(src="/socket.io/socket.io.js")
			script(src="/js/angular.js")
		script(src="https://js.braintreegateway.com/js/braintree-2.26.0.min.js")
		script(src="https://use.typekit.net/lrm3jdv.js")
		script try{Typekit.load({ async: true });}catch(e){}
		script(src="js/all.js")
		script(id="templates/partial-home-getstuff.html" type="text/ng-template")
			include ./partials/home/partial-home-getstuff
		script(id="templates/blank.html" type="text/ng-template").
			div(style="display:none;")
		script(id="templates/partial-home-get-item-single-map.html" type="text/ng-template")
			include ./partials/home/partial-home-get-item-single-map
		script(id="templates/partial-home-my.html" type="text/ng-template")
			include ./partials/home/partial-home-my
		script(id="templates/partial-home-conversation.html" type="text/ng-template")
			include ./partials/home/partial-home-conversation
		script(id="templates/partial-home-settings.html" type="text/ng-template")
			include ./partials/home/partial-home-settings
		script(id="templates/partial-home-messages.html" type="text/ng-template")
			include ./partials/home/partial-home-messages
		script(id="templates/partial-home-watchlist.html" type="text/ng-template")
			include ./partials/home/partial-home-watchlist
		script(id="templates/partial-home-givestuff.html" type="text/ng-template")
			include ./partials/home/partial-home-givestuff
		script(id="templates/partial-home-mystuff.html" type="text/ng-template")
			include ./partials/home/partial-home-mystuff
		script(id="templates/partial-home.html" type="text/ng-template")
			include ./partials/home/partial-home
		script(id="templates/partial-about.html" type="text/ng-template")
			include ./partials/about/partial-about
		script(id="templates/partial-privacy.html" type="text/ng-template")
			include ./partials/privacy/partial-privacy
		script(id="templates/partial-useragreement.html" type="text/ng-template")
			include ./partials/useragreement/partial-useragreement
		script(id="templates/partial-faq.html" type="text/ng-template")
			include ./partials/faq/partial-faq
	body(ng-controller="MainController")
		#modal-windows
			.modal-windows-bg.animate-250
			.modal-container.modal-container.animate-500
				.close-modal-bg(ng-click="hideModal()")
				.modal-window
					.modal-header
					.modal-close(ng-click="hideModal()")
						i.fa.fa-close
					.modal-content
						.modal-steps
							#sign-in-step.modal-step.animate-250.active
								h2.modal-title.animate-250 Sign In
								a.sign-in-up-input.social-button.google-plus-sign-in(href="//localhost:3000/api/v1/account/login/google" target="_self")
								a.sign-in-up-input.social-button.google-plus-sign-in(ng-click="googleOAuth()" target="_self")
									span.social-sign-in-icon.social-sign-in-icon-google
										i.fa.fa-google-plus
									span.social-sign-in-text Sign in with Google
								a.sign-in-up-input.social-button.facebook-sign-in(href="//localhost:3000/api/v1/account/login/facebook" target="_self")
									span.social-sign-in-icon.social-sign-in-icon-facebook
										i.fa.fa-facebook
									span.social-sign-in-text Sign in with Facebook
								hr
								span.sign-in-local-text or sign in with your email address 
								input#sign-in-email.sign-in-up-input.local-sign-in-up(type="text" placeholder="email address" value="ryan.the.farmer@gmail.com")
								input#sign-in-password.sign-in-up-input.local-sign-in-up(type="password" placeholder="password" value="Password1!")
								hr
								input#sign-in-sign-in-button.sign-in-up-input(type="button" value="Sign In" ng-click="login()")
								input#sign-in-sign-up-button.sign-in-up-input(type="button" value="Sign Up" ng-click="signUpStep()")
							#sign-up-step.modal-step.animate-250.hidden-modal
								h2.modal-title Sign Up
								.modal-back-button(ng-click="signUpBack()")
								input#sign-up-uname.sign-in-up-input.local-sign-in-up(type="text" placeholder="username")
								input#sign-up-email.sign-in-up-input.local-sign-in-up(type="text" placeholder="email address")
								input#sign-up-password1.sign-in-up-input.local-sign-in-up(type="password" placeholder="password")
								input#sign-up-password2.sign-in-up-input.local-sign-in-up(type="password" placeholder="confirm password")
								input#sign-up-fname.sign-in-up-input.local-sign-in-up(type="text" placeholder="first name")
								input#sign-up-lname.sign-in-up-input.local-sign-in-up(type="text" placeholder="last name")
								hr
								input#-sign-up-button.sign-in-up-input(type="button" value="Sign Up" ng-click="signUp()")
							#authorizing-step.modal-step.animate-250.hidden-modal
								h2.modal-title Authorizing...
								div loading...
		#popups
			#profile-popup.popups.popups-top-right.animate-250.hidden-popup
				li
					i.fa.fa-archive
					span(ui-sref="stuff.my.items") My Stuff
				li
					i.fa.fa-envelope
					span(ui-sref="stuff.my.messages") Messages
				li
					i.fa.fa-clock-o
					span(ui-sref="stuff.my.watchlist") Watchlist
				li
					i.fa.fa-cog
					span(ui-sref="stuff.my.settings") Settings
				li
					i.fa.fa-sign-out
					span(ng-click="logout()") Sign Out
		ul#side-menu.side-menu.hidden.animate-250
			#close-menu-button.fa.fa-times(ng-click="toggleSideMenu()")
			//- li.side-menu-user-container
			//- 	.side-menu-user-info
			//- 		.side-menu-logo
			//- 		.side-menu-details-container
			//- 			.side-menu-uname
			//- 			.side-menu-email
			//- 			.side-menu-settings
			//- 			.side-menu-logout
			li.side-menu-header
			li.side-menu-item
				a.side-menu-link(ui-sref="stuff.my")
					.side-menu-icon.fa.fa-rocket
					span My Stuff
			li.side-menu-item
				a.side-menu-link(ui-sref="stuff.my.messages")
					.side-menu-icon.fa.fa-bell
					span Messages
			li.side-menu-item
				a.side-menu-link(ui-sref="stuff.my.watchlist")
					.side-menu-icon.fa.fa-bookmark
					span Watchlist
			li.side-menu-item
				a.side-menu-link(ui-sref="stuff.my.settings")
					.side-menu-icon.fa.fa-wrench
					span Profile & Settings
			li.side-menu-item
				a.side-menu-link(ui-sref="faq")
					.side-menu-icon.fa.fa-support
					span FAQ/Help
			.side-menu-footer
				.new-thing Stuff saved from landfill  
					a.fa.fa-info-circle(href="/faq#landfill-tracker" style="color: white; text-decoration: none;")
				#landfill-tracker-menu
				#stuffmapper-logo-container-menu
					img#logo-menu(src="img/logo-txt-only-bold.png" ng-click="aboutUs()")
					.tiny-links
						a(ui-sref="about") about
						span.tiny-links-separator |
						a(ui-sref="useragreement") terms
						span.tiny-links-separator |
						a(ui-sref="privacy") policy
		#side-menu-background.side-menu-background.animate-250.hidden(ng-click="toggleSideMenu()")
		#container
			#header
				#header-menu-icon-container(ng-click="toggleSideMenu()")
					#header-menu-icon.menu-icon.fa.fa-bars
				a(ui-sref="stuff.get")
					img#logo(src="img/logo-txt-only-bold.png" )
				#landfill-tracker-header
				#user-portal
					a#sign-in-button(ng-click="userButton()")
						i.fa.fa-user
			#content(ui-view)

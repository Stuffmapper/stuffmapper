doctype html
-
	var htmlClassList = [];
	if(loggedIn) htmlClassList.push('loggedIn');
	if(ionic) htmlClassList.push('ionic');
	else if(electron) htmlClassList.push('electron');
	htmlClassList = htmlClassList.join(' ');
html(lang="en" class= htmlClassList ng-app="stuffMapp")
	head
		meta(charset="utf-8")
		meta(name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width, height=device-height")
		meta(name="theme-color" content="#9FD661")
		//- link(rel="icon" sizes="192x192" href="nice-highres.png")
		title Stuffmapper
		if ionic
			script.
				var deviceType = (navigator.userAgent.match(/iPad/i))  == "iPad" ? "iPad" : (navigator.userAgent.match(/iPhone/i))  == "iPhone" ? "iPhone" : (navigator.userAgent.match(/Android/i)) == "Android" ? "Android" : (navigator.userAgent.match(/BlackBerry/i)) == "BlackBerry" ? "BlackBerry" : "null";
				var d = document.documentElement;
				if(/iPad|iPhone|iPod/.test(deviceType)){
					d.className += ' ios';
					document.getElementsByTagName('html')[0].className += ' ios'
				}
				else {
					d.className += ' android';
					document.getElementsByTagName('html')[0].className += ' android'
				}
				var path = window.location.pathname.split('/');
				path.pop();
				path = path.join('/') + '/';
				var section = document.querySelector('head');
				var base = document.createElement('base');
				base.href = path
				section.insertBefore(base, section.firstChild);
		else if electron
			base(href="/")
		else
			base(href="/")
		link(href="js/lib/normalize-css/normalize.css" rel="stylesheet")
		link(href="js/lib/animate.css/animate.min.css" rel="stylesheet")
		link(href="css/font-awesome.min.css" rel="stylesheet")
		link(href="css/main.app.min.css" rel="stylesheet")
		link(href="/styleguide/css/main.css" rel="stylesheet")
		link(href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet")
		script(src="http://maps.google.com/maps/api/js?libraries=geometry")
		script.
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-51018551-1', 'auto');
			ga('send', 'pageview');
		//- ?key=AIzaSyC9wZTqNMPxl86PtJuR4Dq3TzS_hByOs3U")
		//- script(src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.js")
		//- link(href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.css" rel="stylesheet")
		//- script(src="https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js")
		//- link(href="https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css" rel="stylesheet")
		if ionic
			//- link(href="lib/ionic/css/ionic.css" rel="stylesheet")
			script(src="cordova.js")
			script(src="http://localhost:3000/socket.io/socket.io.js")
			script(src="lib/ionic/js/ionic.bundle.js")
			script(src="lib/ngCordova/dist/ng-cordova.min.js")
			script(src="lib/ng-cordova-oauth/dist/ng-cordova-oauth.min.js")
		else
			script(src="/socket.io/socket.io.js")
			script(src="/js/angular.js")
		script(src="https://js.braintreegateway.com/js/braintree-2.26.0.min.js")
		script(src="https://use.typekit.net/lrm3jdv.js")
		script try{Typekit.load({ async: true });}catch(e){}
		script(src="js/app.js")
		script(id="templates/partial-home-getstuff.html" type="text/ng-template")
			include ./partials/home/partial-home-getstuff
		script(id="templates/blank.html" type="text/ng-template").
			div(style="display:none;")
		script(id="templates/partial-home-get-item-single-map.html" type="text/ng-template")
			include ./partials/home/partial-home-get-item-single-map
		script(id="templates/partial-home-my.html" type="text/ng-template")
			include ./partials/home/partial-home-my
		script(id="templates/partial-home-conversation.html" type="text/ng-template")
			include ./partials/home/partial-home-conversation
		script(id="templates/partial-home-settings.html" type="text/ng-template")
			include ./partials/home/partial-home-settings
		script(id="templates/partial-home-messages.html" type="text/ng-template")
			include ./partials/home/partial-home-messages
		script(id="templates/partial-home-watchlist.html" type="text/ng-template")
			include ./partials/home/partial-home-watchlist
		script(id="templates/partial-home-givestuff.html" type="text/ng-template")
			include ./partials/home/partial-home-givestuff
		script(id="templates/partial-home-mystuff.html" type="text/ng-template")
			include ./partials/home/partial-home-mystuff
		script(id="templates/partial-home.html" type="text/ng-template")
			include ./partials/home/partial-home
		script(id="templates/partial-about.html" type="text/ng-template")
			include ./partials/about/partial-about
		script(id="templates/partial-privacy.html" type="text/ng-template")
			include ./partials/privacy/partial-privacy
		script(id="templates/partial-useragreement.html" type="text/ng-template")
			include ./partials/useragreement/partial-useragreement
		script(id="templates/partial-faq.html" type="text/ng-template")
			include ./partials/faq/partial-faq
		if ionic
			script(id="templates/partial-login-steps.html" type="text/ng-template")
				include ./partials/login/partial-login-steps
			script(id="templates/partial-login-setup1.html" type="text/ng-template")
				include ./partials/login/partial-login-setup1
			script(id="templates/partial-login-setup2.html" type="text/ng-template")
				include ./partials/login/partial-login-setup2
			script(id="templates/partial-login-page.html" type="text/ng-template")
				include ./partials/login/partial-login-page
	body(ng-controller="MainController")
		#modal-windows
			.modal-windows-bg.animate-250
			.modal-container.modal-container.animate-500
				.close-modal-bg(ng-click="hideModal()")
				.modal-window
					.modal-header
					.modal-close(ng-click="hideModal()")
						i.fa.fa-close
					.modal-content
						.modal-steps
							#sign-in-step.modal-step.animate-250.active
								h2.modal-title.animate-250 Sign In
								.sign-in-up-input.social-button.google-plus-sign-in(ng-click="googleOAuth()")
									span.social-sign-in-icon.social-sign-in-icon-google
										i.fa.fa-google-plus
									span.social-sign-in-text Sign in with Google
								.sign-in-up-input.social-button.facebook-sign-in(ng-click="facebookOAuth()")
									span.social-sign-in-icon.social-sign-in-icon-facebook
										i.fa.fa-facebook
									span.social-sign-in-text Sign in with Facebook
								hr
								span.sign-in-local-text or sign in 
								input#sign-in-email.sign-in-up-input.local-sign-in-up(type="text" placeholder="email address")
								input#sign-in-password.sign-in-up-input.local-sign-in-up(type="password" placeholder="password")
								input#sign-in-sign-in-button.sign-in-up-input(type="button" value="Sign In" ng-click="login()")
								
								hr
								input#sign-in-sign-up-button.sign-in-up-input(type="button" value="Sign Up" ng-click="signUpStep()")
								//- .privacy-and-terms-container
								//- 	p 
								//- 		| By clicking "Sign Up"/ "Sign In", you agree to the 
								//- 		a(ui-sref="privacy", ng-click="hideModal()") Privacy 
								//- 		| and 
								//- 		a(ui-sref="useragreement", ng-click="hideModal()") Terms of Use
							#sign-up-step.modal-step.animate-250.hidden-modal
								h2.modal-title Sign Up
								.modal-back-button(ng-click="signUpBack()")
								input#sign-up-uname.sign-in-up-input.local-sign-in-up(type="text" placeholder="username")
								input#sign-up-email.sign-in-up-input.local-sign-in-up(type="text" placeholder="email address")
								input#sign-up-password1.sign-in-up-input.local-sign-in-up(type="password" placeholder="password")
								input#sign-up-fname.sign-in-up-input.local-sign-in-up(type="text" placeholder="first name")
								input#sign-up-lname.sign-in-up-input.local-sign-in-up(type="text" placeholder="last name")
								hr
								.privacy-and-terms-container
									p(style="margin: 0 auto;font-size: 14px;text-align: center;width:90%;")
										| By clicking "Sign Up", you agree to the 
										a(ui-sref="privacy", ng-click="hideModal()") Privacy 
										| and 
										a(ui-sref="useragreement", ng-click="hideModal()") Terms
										
								input#-sign-up-button.sign-in-up-input(type="button" value="Sign Up" ng-click="signUp()")
							#authorizing-step.modal-step.animate-250.hidden-modal
								h2.modal-title Authorizing...
								div loading...
		#popups
			#profile-popup.popups.popups-top-right.animate-250.hidden-popup
				li
					i.fa.fa-archive
					span(ui-sref="stuff.my.items") My Stuff
				li
					i.fa.fa-envelope
					span(ui-sref="stuff.my.messages") Messages
				li
					i.fa.fa-clock-o
					span(ui-sref="stuff.my.watchlist") Watchlist
				li
					i.fa.fa-cog
					span(ui-sref="stuff.my.settings") Settings
				li
					i.fa.fa-question
					span(ui-sref="faq") FAQ
				li
					i.fa.fa-user-secret
					span(ui-sref="privacy") Privacy
				li
					i.fa.fa-file-text
					span(ui-sref="useragreement") Terms
				li
					i.fa.fa-sign-out
					span(ng-click="logout()") Sign Out
		ul#side-menu.side-menu.hidden.animate-250
			#close-menu-button.fa.fa-times(ng-click="toggleSideMenu()")
			li.side-menu-header
			li.side-menu-item
				a.side-menu-link(ui-sref="stuff.my.items", ng-click="toggleSideMenu()")
					.side-menu-icon.fa.fa-rocket
					span My Stuff
			li.side-menu-item
				a.side-menu-link(ui-sref="stuff.my.messages", ng-click="toggleSideMenu()")
					.side-menu-icon.fa.fa-bell
					span Messages
			li.side-menu-item
				a.side-menu-link(ui-sref="stuff.my.watchlist", ng-click="toggleSideMenu()")
					.side-menu-icon.fa.fa-bookmark
					span Watchlist
			li.side-menu-item
				a.side-menu-link(ui-sref="stuff.my.settings", ng-click="toggleSideMenu()")
					.side-menu-icon.fa.fa-wrench
					span Profile & Settings
			li.side-menu-item
				a.side-menu-link(ui-sref="faq", ng-click="toggleSideMenu()")
					.side-menu-icon.fa.fa-question
					span FAQ/Help
			li.side-menu-item
				a.side-menu-link(ng-click="logout(); toggleSideMenu();")
					.side-menu-icon.fa.fa-sign-out
					span Sign Out
			.side-menu-footer
				a(ui-sref="/faq#landfill-tracker")
					.new-thing Stuff saved from landfill  
					#landfill-tracker-menu
				#stuffmapper-logo-container-menu
					img#logo-menu(src="img/logo-txt-only-bold.png" ng-click="aboutUs(); toggleSideMenu()")
					.tiny-links
						a(ui-sref="about", ng-click="toggleSideMenu()") about
						span.tiny-links-separator |
						a(ui-sref="useragreement", ng-click="toggleSideMenu()") terms
						span.tiny-links-separator |
						a(ui-sref="privacy", ng-click="toggleSideMenu()") privacy
		#side-menu-background.side-menu-background.animate-250.hidden(ng-click="toggleSideMenu()")
		#container
			#header
				#header-menu-icon-container(ng-click="toggleSideMenu()")
					#header-menu-icon.menu-icon.fa.fa-bars
				a(ui-sref="stuff.get")
					img#logo(src="img/logo-txt-only-bold.png" )
				#landfill-tracker-header
				#user-portal
					a#sign-in-button(ng-click="userButton()")
						i.fa.fa-user
			#content.animate-500(ui-view)
